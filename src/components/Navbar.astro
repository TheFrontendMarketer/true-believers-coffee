---
import { Image } from "astro:assets";
import logo from "../assets/tbc-logo-100x100.png";
---

<!-- navbar goes here -->
<nav class="bg-[#371B07]">
  <div class="max-w-6xl mx-auto px-4">
    <div class="flex justify-between space-x-4">
      <div class="py-4 px-3">
        <a href="#">
          <Image
            src={logo}
            alt="True Believers Coffee Logo"
            width={100}
            height={100}
            class="image-sharp"
          /></a
        >
      </div>
      <!-- primary nav -->
      <ul class="hidden md:flex items-center space-x-4 text-white">
        <li>
          <a class="py-5 px-3 hover:text-orange-400" href="">Features</a>
        </li>
        <li>
          <a class="py-5 px-3 hover:text-orange-400" href="">Pricing</a>
        </li>
      </ul>
    </div>

    <!-- mobile button goes here -->
    <div class="md:hidden flex items-center">
      <button class="mobile-menu-button cursor-pointer">
        <img
          class="w-6 h-6 hamburger-icon transition-all duration-300 ease-in-out transform hover:scale-110"
          src="src/assets/icon-hamburger-light.svg"
          alt=""
        />
        <img
          class="w-6 h-6 close-icon hidden transition-all duration-300 ease-in-out transform hover:scale-110 hover:rotate-90"
          src="src/assets/icon-close-light.svg"
          alt="Close"
        />
      </button>
    </div>
  </div>

  <!-- mobile menu -->
  <div
    class="mobile-menu hidden md:hidden px-3 transform transition-all duration-500 ease-out scale-95 opacity-0"
  >
    <a
      href=""
      class="block py-2 px-3 text-sm hover:bg-gray-200 transition-all duration-200 hover:translate-x-2"
      >Features</a
    >
    <a
      href=""
      class="block py-2 px-3 text-sm hover:bg-gray-200 transition-all duration-200 hover:translate-x-2"
      >Pricing</a
    >
  </div>
</nav>

<script>
  const btn = document.querySelector(".mobile-menu-button");
  const menu = document.querySelector(".mobile-menu");
  const hamburgerIcon = document.querySelector(".hamburger-icon");
  const closeIcon = document.querySelector(".close-icon");

  if (btn && menu && hamburgerIcon && closeIcon) {
    btn.addEventListener("click", () => {
      const isHidden = menu.classList.contains("hidden");

      if (isHidden) {
        // Show menu
        menu.classList.remove("hidden");
        menu.offsetHeight; // Force reflow
        menu.classList.remove("scale-95", "opacity-0");
        menu.classList.add("scale-100", "opacity-100");
      } else {
        // Hide menu
        menu.classList.add("scale-95", "opacity-0");
        menu.classList.remove("scale-100", "opacity-100");
        setTimeout(() => {
          menu.classList.add("hidden");
        }, 500);
      }

      // Toggle icons with animation
      hamburgerIcon.classList.toggle("hidden");
      closeIcon.classList.toggle("hidden");
    });
  }
</script>

<style>
  .image-sharp {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    image-rendering: pixelated;
  }
</style>
